KJE.MortgageMaxCalc=function(){this.CANADIAN=KJE.parameters.get("CANADIAN",false);this.bCALC_PMI=KJE.parameters.get("CALC_PMI",false);this.PMI_RATE=KJE.parameters.get("PMI_RATE",0.005);this.bREAL_ESTATE_TAXES=false;this.REAL_ESTATE_TAXES_RATE=0.0125;this.bHAZARD_INSURANCE=false;this.HAZARD_INSURANCE_RATE=0.0035;this.bHOUSING_EXPENSES=false;this.HOUSING_EXPENSES_RATE=0;this.MAX_RATE=1;this.INCREMENT=KJE.parameters.get("INCREMENT",0.25);this.YOUR_INCOME=0;this.LOAN_AMOUNT=0;this.INTEREST_RATE=0;this.TERM_IN_MONTHS=0;this.MONTHLY_HOUSING_EXPENSES=0;this.MONTHLY_LIABILITIES=0;this.LOAN_PI=0;this.LOAN_PITI=0;this.LOW_DEBT_PITI_RATE=KJE.parameters.get("LOW_DEBT_PITI_RATE",28);this.HIGH_DEBT_PITI_RATE=KJE.parameters.get("HIGH_DEBT_PITI_RATE",36);this.QLFY_PITI_DEBT=0;this.QLFY_PITI_ONLY=0;this.SALARY=0;this.COMMISSION=0;this.BONUS=0;this.OTHER_INCOME=0;this.COBORROWER_SALARY=0;this.COBORROWER_COMMISSION=0;this.COBORROWER_BONUS=0;this.COBORROWER_OTHER_INCOME=0;this.SALARY_UNITS=KJE.MortgageMaxCalc.ITEM_MONTHLY;this.COMMISSION_UNITS=KJE.MortgageMaxCalc.ITEM_ANNUAL;this.BONUS_UNITS=KJE.MortgageMaxCalc.ITEM_ANNUAL;this.OTHER_UNITS=KJE.MortgageMaxCalc.ITEM_ANNUAL;this.COBORROWER_SALARY_UNITS=KJE.MortgageMaxCalc.ITEM_MONTHLY;this.COBORROWER_COMMISSION_UNITS=KJE.MortgageMaxCalc.ITEM_ANNUAL;this.COBORROWER_BONUS_UNITS=KJE.MortgageMaxCalc.ITEM_ANNUAL;this.COBORROWER_OTHER_INCOME_UNITS=KJE.MortgageMaxCalc.ITEM_ANNUAL;this.REAL_ESTATE_TAXES=0;this.HAZARD_INSURANCE=0;this.HOUSING_EXPENSES=0;this.MORTGAGE_INSURANCE=0;this.REAL_ESTATE_TAXES_UNIT=KJE.MortgageMaxCalc.ITEM_SEMIANNUAL;this.HAZARD_INSURANCE_UNIT=KJE.MortgageMaxCalc.ITEM_ANNUAL;this.HOUSING_EXPENSES_UNIT=KJE.MortgageMaxCalc.ITEM_MONTHLY;this.MORTGAGE_INSURANCE_UNIT=KJE.MortgageMaxCalc.ITEM_MONTHLY;this.AUTO_LOANS=0;this.CREDIT_CARDS=0;this.INSTALLMENT_LOANS=0;this.STUDENT_LOANS=0;this.ALIMONY_CHILD_SUPPORT=0;this.OTHER_LOANS=0;this.OTHER_LIABILITY=0;this.COBORROWER_AUTO_LOANS=0;this.COBORROWER_CREDIT_CARDS=0;this.COBORROWER_INSTALLMENT_LOANS=0;this.COBORROWER_STUDENT_LOANS=0;this.COBORROWER_ALIMONY_CHILD_SUPPORT=0;this.COBORROWER_OTHER_LOANS=0;this.COBORROWER_OTHER_LIABILITY=0;this.LOAN_COUNT=KJE.parameters.get("LOAN_COUNT",6);this.DS_RATE=KJE.FloatArray(this.LOAN_COUNT);this.DS_LOAN_PI=KJE.FloatArray(this.LOAN_COUNT);this.DS_LOAN_PITI=KJE.FloatArray(this.LOAN_COUNT);this.DS_LOAN_AMOUNT=KJE.FloatArray(this.LOAN_COUNT);this.cats=new Array();this.sSchedule=new KJE.Repeating()};KJE.MortgageMaxCalc.prototype.clear=function(){};KJE.MortgageMaxCalc.prototype.calculate=function(c){var d=KJE;this.YOUR_INCOME=this.sumIncome();this.MONTHLY_LIABILITIES=this.sumLiabilities();this.QLFY_PITI_DEBT=(this.YOUR_INCOME*(this.HIGH_DEBT_PITI_RATE/100))-this.MONTHLY_LIABILITIES;this.QLFY_PITI_ONLY=(this.YOUR_INCOME*(this.LOW_DEBT_PITI_RATE/100));this.LOAN_PITI=(this.QLFY_PITI_DEBT<this.QLFY_PITI_ONLY?this.QLFY_PITI_DEBT:this.QLFY_PITI_ONLY);if(this.LOAN_PITI<=0){this.LOAN_PITI=0}this.LOAN_AMOUNT=this.getLoanAmount(this.LOAN_PITI,this.getPeriodRate(this.INTEREST_RATE/100,12),this.TERM_IN_MONTHS);this.MONTHLY_HOUSING_EXPENSES=this.sumHousing(this.LOAN_AMOUNT);this.LOAN_PI=this.LOAN_PITI-this.MONTHLY_HOUSING_EXPENSES;if(this.LOAN_PI<=0){this.LOAN_PI=0}var b=0;if(c){var a=this.sSchedule;a.clearRepeat();a.addHeader(a.sReportCol("Interest<br />Rate",1),a.sReportCol("Annual<br />Income ",2),a.sReportCol("Monthly<br />Liabilities ",3),a.sReportCol("Qualifying<br />Payment (PITI)",4),a.sReportCol("Qualifying<br />Payment (PI)",5),a.sReportCol("Qualifying<br />Mortgage",6))}for(var e=1;e<=this.LOAN_COUNT;e++){b=e-1;if(e==1){this.DS_RATE[b]=(this.INTEREST_RATE/100)}else{this.DS_RATE[b]=d.round((this.DS_RATE[b-1]+this.INCREMENT/100),5)}this.cats[b]=""+d.percent(this.DS_RATE[b],3);this.DS_LOAN_PITI[b]=this.LOAN_PITI;this.DS_LOAN_AMOUNT[b]=this.getLoanAmount(this.DS_LOAN_PITI[b],this.getPeriodRate(this.DS_RATE[b],12),this.TERM_IN_MONTHS);this.DS_LOAN_PI[b]=(this.DS_LOAN_PITI[b]-this.sumHousing(this.DS_LOAN_AMOUNT[b]));if(this.DS_LOAN_PI[b]<=0){this.DS_LOAN_PI[b]=0}if(e==1){this.LOAN_AMOUNT=this.DS_LOAN_AMOUNT[0]}if(c){a.addRepeat(d.percent(this.DS_RATE[b],3),d.dollars(this.YOUR_INCOME*12),d.dollars(this.MONTHLY_LIABILITIES),d.dollars(this.LOAN_PITI),d.dollars(this.LOAN_PI),d.dollars(this.DS_LOAN_AMOUNT[b]))}}this.MONTHLY_HOUSING_EXPENSES=this.sumHousing(this.LOAN_AMOUNT)};KJE.MortgageMaxCalc.prototype.formatReport=function(a){var b=KJE;var c=a;c=KJE.replace("LOW_DEBT_PITI_RATE",b.percent(this.LOW_DEBT_PITI_RATE/100),c);c=KJE.replace("HIGH_DEBT_PITI_RATE",b.percent(this.HIGH_DEBT_PITI_RATE/100),c);c=KJE.replace("QLFY_PITI_DEBT",b.dollars(this.QLFY_PITI_DEBT,2),c);c=KJE.replace("QLFY_PITI_ONLY",b.dollars(this.QLFY_PITI_ONLY,2),c);c=KJE.replace("YOUR_ANNUAL_INCOME",b.dollars(this.YOUR_INCOME*12),c);c=KJE.replace("INCREMENT",b.number(this.INCREMENT,2),c);c=KJE.replace("YOUR_INCOME",b.dollars(this.YOUR_INCOME,2),c);c=KJE.replace("LOAN_AMOUNT",b.dollars(this.LOAN_AMOUNT),c);c=KJE.replace("INTEREST_RATE",b.percent(this.INTEREST_RATE/100,3),c);c=KJE.replace("TERM_IN_MONTHS",b.number(this.TERM_IN_MONTHS),c);c=KJE.replace("TERM_IN_YEARS",b.number(this.TERM_IN_MONTHS/12),c);c=KJE.replace("MONTHLY_HOUSING_EXPENSES",b.dollars(this.MONTHLY_HOUSING_EXPENSES,2),c);c=KJE.replace("MONTHLY_LIABILITIES",b.dollars(this.MONTHLY_LIABILITIES,2),c);c=KJE.replace("LOAN_PITI",b.dollars(this.LOAN_PITI,2),c);c=KJE.replace("LOAN_PI",b.dollars(this.LOAN_PI,2),c);c=KJE.replace("COBORROWER_BONUS_UNITS",KJE.MortgageMaxCalc.ITEM_DESC[this.COBORROWER_BONUS_UNITS],c);c=KJE.replace("COBORROWER_OTHER_UNITS",KJE.MortgageMaxCalc.ITEM_DESC[this.COBORROWER_OTHER_INCOME_UNITS],c);c=KJE.replace("COBORROWER_SALARY_UNITS",KJE.MortgageMaxCalc.ITEM_DESC[this.COBORROWER_SALARY_UNITS],c);c=KJE.replace("COBORROWER_COMMISSION_UNITS",KJE.MortgageMaxCalc.ITEM_DESC[this.COBORROWER_COMMISSION_UNITS],c);c=KJE.replace("COBORROWER_SALARY",b.dollars(this.COBORROWER_SALARY,2),c);c=KJE.replace("COBORROWER_COMMISSION",b.dollars(this.COBORROWER_COMMISSION,2),c);c=KJE.replace("COBORROWER_BONUS",b.dollars(this.COBORROWER_BONUS,2),c);c=KJE.replace("COBORROWER_OTHER_INCOME",b.dollars(this.COBORROWER_OTHER_INCOME,2),c);c=KJE.replace("REAL_ESTATE_TAXES_UNIT",KJE.MortgageMaxCalc.ITEM_DESC[this.REAL_ESTATE_TAXES_UNIT],c);c=KJE.replace("HAZARD_INSURANCE_UNIT",KJE.MortgageMaxCalc.ITEM_DESC[this.HAZARD_INSURANCE_UNIT],c);c=KJE.replace("HOUSING_EXPENSES_UNIT",KJE.MortgageMaxCalc.ITEM_DESC[this.HOUSING_EXPENSES_UNIT],c);c=KJE.replace("BONUS_UNITS",KJE.MortgageMaxCalc.ITEM_DESC[this.BONUS_UNITS],c);c=KJE.replace("OTHER_UNITS",KJE.MortgageMaxCalc.ITEM_DESC[this.OTHER_UNITS],c);c=KJE.replace("SALARY_UNITS",KJE.MortgageMaxCalc.ITEM_DESC[this.SALARY_UNITS],c);c=KJE.replace("COMMISSION_UNITS",KJE.MortgageMaxCalc.ITEM_DESC[this.COMMISSION_UNITS],c);c=KJE.replace("MORTGAGE_INSURANCE_UNIT",KJE.MortgageMaxCalc.ITEM_DESC[this.MORTGAGE_INSURANCE_UNIT],c);c=KJE.replace("REAL_ESTATE_TAXES",b.dollars(this.REAL_ESTATE_TAXES,2),c);c=KJE.replace("HAZARD_INSURANCE",b.dollars(this.HAZARD_INSURANCE,2),c);c=KJE.replace("HOUSING_EXPENSES",b.dollars(this.HOUSING_EXPENSES,2),c);c=KJE.replace("MORTGAGE_INSURANCE",b.dollars(this.MORTGAGE_INSURANCE,2),c);c=KJE.replace("COBORROWER_AUTO_LOANS",b.dollars(this.COBORROWER_AUTO_LOANS,2),c);c=KJE.replace("COBORROWER_CREDIT_CARDS",b.dollars(this.COBORROWER_CREDIT_CARDS,2),c);c=KJE.replace("COBORROWER_INSTALLMENT_LOANS",b.dollars(this.COBORROWER_INSTALLMENT_LOANS,2),c);c=KJE.replace("COBORROWER_STUDENT_LOANS",b.dollars(this.COBORROWER_STUDENT_LOANS,2),c);c=KJE.replace("COBORROWER_ALIMONY_CHILD_SUPPORT",b.dollars(this.COBORROWER_ALIMONY_CHILD_SUPPORT,2),c);c=KJE.replace("COBORROWER_OTHER_LOANS",b.dollars(this.COBORROWER_OTHER_LOANS,2),c);c=KJE.replace("COBORROWER_OTHER_LIABILITY",b.dollars(this.COBORROWER_OTHER_LIABILITY,2),c);c=KJE.replace("AUTO_LOANS",b.dollars(this.AUTO_LOANS,2),c);c=KJE.replace("CREDIT_CARDS",b.dollars(this.CREDIT_CARDS,2),c);c=KJE.replace("INSTALLMENT_LOANS",b.dollars(this.INSTALLMENT_LOANS,2),c);c=KJE.replace("STUDENT_LOANS",b.dollars(this.STUDENT_LOANS,2),c);c=KJE.replace("ALIMONY_CHILD_SUPPORT",b.dollars(this.ALIMONY_CHILD_SUPPORT,2),c);c=KJE.replace("OTHER_LOANS",b.dollars(this.OTHER_LOANS,2),c);c=KJE.replace("OTHER_LIABILITY",b.dollars(this.OTHER_LIABILITY,2),c);c=KJE.replace("SALARY",b.dollars(this.SALARY,2),c);c=KJE.replace("COMMISSION",b.dollars(this.COMMISSION,2),c);c=KJE.replace("BONUS",b.dollars(this.BONUS,2),c);c=KJE.replace("OTHER_INCOME",b.dollars(this.OTHER_INCOME,2),c);c=c.replace("**REPEATING GROUP**",this.sSchedule.getRepeat());this.sSchedule.clearRepeat();return c};KJE.MortgageMaxCalc.prototype.sumLiabilities=function(){return this.AUTO_LOANS+this.CREDIT_CARDS+this.INSTALLMENT_LOANS+this.STUDENT_LOANS+this.ALIMONY_CHILD_SUPPORT+this.OTHER_LOANS+this.OTHER_LIABILITY+this.COBORROWER_AUTO_LOANS+this.COBORROWER_CREDIT_CARDS+this.COBORROWER_INSTALLMENT_LOANS+this.COBORROWER_STUDENT_LOANS+this.COBORROWER_ALIMONY_CHILD_SUPPORT+this.COBORROWER_OTHER_LOANS+this.COBORROWER_OTHER_LIABILITY};KJE.MortgageMaxCalc.prototype.sumIncome=function(){var c=0;var b=KJE.MortgageMaxCalc.SALARY_PERIODS_YEARLY;var a=b[this.SALARY_UNITS];c+=(a==12?this.SALARY:(this.SALARY*a)/12);a=b[this.COMMISSION_UNITS];c+=(a==12?this.COMMISSION:(this.COMMISSION*a)/12);a=b[this.BONUS_UNITS];c+=(a==12?this.BONUS:(this.BONUS*a)/12);a=b[this.OTHER_UNITS];c+=(a==12?this.OTHER_INCOME:(this.OTHER_INCOME*a)/12);a=b[this.COBORROWER_SALARY_UNITS];c+=(a==12?this.COBORROWER_SALARY:(this.COBORROWER_SALARY*a)/12);a=b[this.COBORROWER_COMMISSION_UNITS];c+=(a==12?this.COBORROWER_COMMISSION:(this.COBORROWER_COMMISSION*a)/12);a=b[this.COBORROWER_BONUS_UNITS];c+=(a==12?this.COBORROWER_BONUS:(this.COBORROWER_BONUS*a)/12);a=b[this.COBORROWER_OTHER_INCOME_UNITS];c+=(a==12?this.COBORROWER_OTHER_INCOME:(this.COBORROWER_OTHER_INCOME*a)/12);return c};KJE.MortgageMaxCalc.prototype.sumHousing=function(e){var b=0;var c=0;var a=KJE.round;if(this.bREAL_ESTATE_TAXES){this.REAL_ESTATE_TAXES=a((this.REAL_ESTATE_TAXES_RATE)*e,2);this.REAL_ESTATE_TAXES_UNIT=KJE.MortgageMaxCalc.ITEM_ANNUAL}if(this.REAL_ESTATE_TAXES_UNIT==(KJE.MortgageMaxCalc.ITEM_ANNUAL)){c=this.REAL_ESTATE_TAXES/12}else{if(this.REAL_ESTATE_TAXES_UNIT==(KJE.MortgageMaxCalc.ITEM_SEMIANNUAL)){c=this.REAL_ESTATE_TAXES/6}else{if(this.REAL_ESTATE_TAXES_UNIT==(KJE.MortgageMaxCalc.ITEM_MONTHLY)){c=this.REAL_ESTATE_TAXES}}}if(!this.bREAL_ESTATE_TAXES){this.REAL_ESTATE_TAXES_RATE=a(c*12/e,5);if(this.REAL_ESTATE_TAXES_RATE>1||this.REAL_ESTATE_TAXES_RATE==NaN){this.REAL_ESTATE_TAXES_RATE=this.MAX_RATE}if(c==0){this.REAL_ESTATE_TAXES_RATE=0}}b+=c;c=0;if(this.bHAZARD_INSURANCE){this.HAZARD_INSURANCE=a((this.HAZARD_INSURANCE_RATE)*e,2);this.HAZARD_INSURANCE_UNIT=KJE.MortgageMaxCalc.ITEM_ANNUAL}if(this.HAZARD_INSURANCE_UNIT==(KJE.MortgageMaxCalc.ITEM_ANNUAL)){c=this.HAZARD_INSURANCE/12}else{if(this.HAZARD_INSURANCE_UNIT==(KJE.MortgageMaxCalc.ITEM_SEMIANNUAL)){c=this.HAZARD_INSURANCE/6}else{if(this.HAZARD_INSURANCE_UNIT==(KJE.MortgageMaxCalc.ITEM_MONTHLY)){c=this.HAZARD_INSURANCE}}}if(!this.bHAZARD_INSURANCE){this.HAZARD_INSURANCE_RATE=a(c*12/e,5);if(this.HAZARD_INSURANCE_RATE>1||this.HAZARD_INSURANCE_RATE==NaN){this.HAZARD_INSURANCE_RATE=this.MAX_RATE}if(c==0){this.HAZARD_INSURANCE_RATE=0}}b+=c;c=0;if(this.bHOUSING_EXPENSES){this.HOUSING_EXPENSES=a((this.HOUSING_EXPENSES_RATE)*e,2);this.HOUSING_EXPENSES_UNIT=KJE.MortgageMaxCalc.ITEM_ANNUAL}if(this.HOUSING_EXPENSES_UNIT==(KJE.MortgageMaxCalc.ITEM_ANNUAL)){c=this.HOUSING_EXPENSES/12}else{if(this.HOUSING_EXPENSES_UNIT==(KJE.MortgageMaxCalc.ITEM_SEMIANNUAL)){c=this.HOUSING_EXPENSES/6}else{if(this.HOUSING_EXPENSES_UNIT==(KJE.MortgageMaxCalc.ITEM_MONTHLY)){c=this.HOUSING_EXPENSES}}}if(!this.bHOUSING_EXPENSES){this.HOUSING_EXPENSES_RATE=a(c*12/e,5);if(this.HOUSING_EXPENSES_RATE>1||this.HOUSING_EXPENSES_RATE==NaN){this.HOUSING_EXPENSES_RATE=this.MAX_RATE}if(c==0){this.HOUSING_EXPENSES_RATE=0}}b+=(this.CANADIAN?c/2:c);c=0;if(this.bCALC_PMI){this.MORTGAGE_INSURANCE=a((this.PMI_RATE)*e,2);this.MORTGAGE_INSURANCE_UNIT=KJE.MortgageMaxCalc.ITEM_ANNUAL}if(this.MORTGAGE_INSURANCE_UNIT==(KJE.MortgageMaxCalc.ITEM_ANNUAL)){c=this.MORTGAGE_INSURANCE/12}else{if(this.MORTGAGE_INSURANCE_UNIT==(KJE.MortgageMaxCalc.ITEM_SEMIANNUAL)){c=this.MORTGAGE_INSURANCE/6}else{if(this.MORTGAGE_INSURANCE_UNIT==(KJE.MortgageMaxCalc.ITEM_MONTHLY)){c=this.MORTGAGE_INSURANCE}}}if(!this.bCALC_PMI){this.PMI_RATE=a(c*12/e,5);if(this.PMI_RATE>1||this.PMI_RATE==NaN){this.PMI_RATE=this.MAX_RATE}if(c==0){this.PMI_RATE=0}}b+=c;return b};KJE.MortgageMaxCalc.prototype.getLoanAmount=function(g,e,d){if(g<=0){return 0}var c=g-this.sumHousing(0);if(c<=0){return 0}var f=KJE.PV;var a=f(e,d,c);if(this.bREAL_ESTATE_TAXES||this.bHAZARD_INSURANCE||this.bHOUSING_EXPENSES||this.bCALC_PMI){for(var b=0;b<10;b++){c=g-this.sumHousing(a);if(c<=0){return 0}a=f(e,d,c)}}return a};KJE.MortgageMaxCalc.ITEM_ANNUAL=0;KJE.MortgageMaxCalc.ITEM_SEMIANNUAL=1;KJE.MortgageMaxCalc.ITEM_MONTHLY=2;KJE.MortgageMaxCalc.ITEM_WEEKLY=3;KJE.MortgageMaxCalc.ITEM_HOURLY=4;KJE.MortgageMaxCalc.ITEM_BIWEEKLY=5;KJE.MortgageMaxCalc.ITEM_SEMIMONTHLY=6;KJE.MortgageMaxCalc.ITEM_QUARTERLY=7;KJE.MortgageMaxCalc.ITEM_PERCENT=8;KJE.MortgageMaxCalc.ITEM_DESC=KJE.parameters.get("ARRAY_ITEM_DESC",["Annual","Semi-Annual","Monthly","Weekly","Hourly","Bi-Weekly","Semi-Monthly","Quarterly","Annually"]);KJE.MortgageMaxCalc.SALARY_PERIODS_YEARLY=[1,2,12,52,2080,26,24,4];KJE.MortgageMaxCalc.SALARY_LENGTH=[12,6,1,52,2080,26,2,3];KJE.MortgageMaxCalc.SALARY_INDEX=[KJE.MortgageMaxCalc.ITEM_ANNUAL,KJE.MortgageMaxCalc.ITEM_SEMIANNUAL,KJE.MortgageMaxCalc.ITEM_MONTHLY,KJE.MortgageMaxCalc.ITEM_WEEKLY,KJE.MortgageMaxCalc.ITEM_HOURLY,KJE.MortgageMaxCalc.ITEM_BIWEEKLY,KJE.MortgageMaxCalc.ITEM_SEMIMONTHLY,KJE.MortgageMaxCalc.ITEM_QUARTERLY];KJE.MortgageMaxCalc.SALARY_DESC=KJE.parameters.get("ARRAY_SALARY_DESC",["Annual","Semi-Annual","Monthly","Weekly","Hourly","Bi-Weekly","Semi-Monthly","Quarterly"]);KJE.MortgageMaxCalc.EXPENSE_INDEX=[KJE.MortgageMaxCalc.ITEM_ANNUAL,KJE.MortgageMaxCalc.ITEM_SEMIANNUAL,KJE.MortgageMaxCalc.ITEM_MONTHLY,KJE.MortgageMaxCalc.ITEM_PERCENT];KJE.MortgageMaxCalc.EXPENSE_DESC=[KJE.MortgageMaxCalc.SALARY_DESC[0],KJE.MortgageMaxCalc.SALARY_DESC[1],KJE.MortgageMaxCalc.SALARY_DESC[2],"Percent"];KJE.MortgageMaxCalc.EXPENSE_INDEX2=[KJE.MortgageMaxCalc.ITEM_ANNUAL,KJE.MortgageMaxCalc.ITEM_SEMIANNUAL,KJE.MortgageMaxCalc.ITEM_MONTHLY];KJE.MortgageMaxCalc.EXPENSE_DESC2=[KJE.MortgageMaxCalc.SALARY_DESC[0],KJE.MortgageMaxCalc.SALARY_DESC[1],KJE.MortgageMaxCalc.SALARY_DESC[2]];KJE.MortgageMaxCalc.getIncomeDrop=function(b,a,c){return KJE.getDropBox(b,KJE.parameters.get(b,(!a?KJE.MortgageMaxCalc.ITEM_ANNUAL:a)),KJE.MortgageMaxCalc.SALARY_INDEX,KJE.MortgageMaxCalc.SALARY_DESC,c)};KJE.MortgageMaxCalc.getITemDrop=function(a,d,c,f){if(a){var b=KJE.MortgageMaxCalc.EXPENSE_INDEX2;var e=KJE.MortgageMaxCalc.EXPENSE_DESC2}else{var b=KJE.MortgageMaxCalc.EXPENSE_INDEX;var e=KJE.MortgageMaxCalc.EXPENSE_DESC}return KJE.getDropBox(d,KJE.parameters.get(d,(!c?KJE.MortgageMaxCalc.ITEM_ANNUAL:c)),b,e,f)};KJE.MortgageMaxCalc.prototype.getPeriodRate=function(a,b){if(this.CANADIAN){return(Math.pow(1+(a/2),(1/(b/2)))-1)}return(a/b)};KJE.CalcName="Maximum Mortgage Calculator";KJE.CalcType="MortgageMax";KJE.CalculatorTitleTemplate="At KJE2 your maximum mortgage is KJE1<div class='KJESubTitle'>Maximum monthly payment (PITI) KJE3</div>";KJE.parseInputs=function(a){a=KJE.replace("**SALARY_UNITS**",KJE.MortgageMaxCalc.getIncomeDrop("SALARY_UNITS",KJE.MortgageMaxCalc.ITEM_MONTHLY),a);a=KJE.replace("**COMMISSION_UNITS**",KJE.MortgageMaxCalc.getIncomeDrop("COMMISSION_UNITS",KJE.MortgageMaxCalc.ITEM_ANNUAL),a);a=KJE.replace("**BONUS_UNITS**",KJE.MortgageMaxCalc.getIncomeDrop("BONUS_UNITS",KJE.MortgageMaxCalc.ITEM_ANNUAL),a);a=KJE.replace("**OTHER_INCOME_UNITS**",KJE.MortgageMaxCalc.getIncomeDrop("OTHER_INCOME_UNITS",KJE.MortgageMaxCalc.ITEM_ANNUAL),a);a=KJE.replace("**COBORROWER_SALARY_UNITS**",KJE.MortgageMaxCalc.getIncomeDrop("COBORROWER_SALARY_UNITS",KJE.MortgageMaxCalc.ITEM_MONTHLY),a);a=KJE.replace("**COBORROWER_COMMISSION_UNITS**",KJE.MortgageMaxCalc.getIncomeDrop("COBORROWER_COMMISSION_UNITS",KJE.MortgageMaxCalc.ITEM_ANNUAL),a);a=KJE.replace("**COBORROWER_BONUS_UNITS**",KJE.MortgageMaxCalc.getIncomeDrop("COBORROWER_BONUS_UNITS",KJE.MortgageMaxCalc.ITEM_ANNUAL),a);a=KJE.replace("**COBORROWER_OTHER_INCOME_UNITS**",KJE.MortgageMaxCalc.getIncomeDrop("COBORROWER_OTHER_INCOME_UNITS",KJE.MortgageMaxCalc.ITEM_ANNUAL),a);a=KJE.replace("**REAL_ESTATE_TAXES_UNIT**",KJE.MortgageMaxCalc.getITemDrop(KJE.parameters.get("REAL_ESTATE_TAXES_RATE_HIDE",false),"REAL_ESTATE_TAXES_UNIT",KJE.MortgageMaxCalc.ITEM_SEMIANNUAL),a);a=KJE.replace("**HAZARD_INSURANCE_UNIT**",KJE.MortgageMaxCalc.getITemDrop(KJE.parameters.get("HAZARD_INSURANCE_RATE_HIDE",false),"HAZARD_INSURANCE_UNIT",KJE.MortgageMaxCalc.ITEM_ANNUAL),a);a=KJE.replace("**HOUSING_EXPENSES_UNIT**",KJE.MortgageMaxCalc.getITemDrop(KJE.parameters.get("HOUSING_EXPENSES_RATE_HIDE",false),"HOUSING_EXPENSES_UNIT",KJE.MortgageMaxCalc.ITEM_MONTHLY),a);a=KJE.replace("**MORTGAGE_INSURANCE_UNIT**",KJE.MortgageMaxCalc.getITemDrop(KJE.parameters.get("PMI_RATE_HIDE",false),"MORTGAGE_INSURANCE_UNIT",KJE.MortgageMaxCalc.ITEM_MONTHLY),a);a=KJE.replace("**TERM_IN_YEARS**",KJE.getMortgageTermDrop("TERM_IN_YEARS",30),a);a=KJE.replace("**COBORROWER_LIABILITIES**",KJE.parameters.get("MSG_COBORROWER_LIABILITIES","Co-borrower monthly liabilities:"),a);a=KJE.replace("**COBORROWER_INCOME**",KJE.parameters.get("MSG_COBORROWER_INCOME","Co-borrower income:"),a);return a};KJE.initialize=function(){KJE.CalcControl=new KJE.MortgageMaxCalc();KJE.GuiControl=new KJE.MortgageMax(KJE.CalcControl)};KJE.MortgageMax=function(n){var e=KJE;var c=KJE.gLegend;var g=KJE.inputs.items;this.MSG_GRAPH_MAXIMUM_MORTGAGE=KJE.parameters.get("MSG_GRAPH_MAXIMUM_MORTGAGE","Maximum mortgage");KJE.PercentSlider("INTEREST_RATE","Start interest rates at",0,25,3);KJE.DollarSlider("SALARY","Salary",0,10000000,0);KJE.DollarSlider("COMMISSION","Commission",0,1000000);KJE.DollarSlider("BONUS","Bonus",0,1000000,0);KJE.DollarSlider("OTHER_INCOME","Other",0,1000000,0);KJE.DollarSlider("COBORROWER_SALARY","Co-borrower salary",0,1000000,0);KJE.DollarSlider("COBORROWER_COMMISSION","Co-borrower commission",0,1000000,0);KJE.DollarSlider("COBORROWER_BONUS","Co-borrower bonus",0,1000000,0);KJE.DollarSlider("COBORROWER_OTHER_INCOME","Co-borrower other",0,1000000,0);KJE.DropBox("SALARY_UNITS","Salary paid");KJE.DropBox("COMMISSION_UNITS","Commission paid");KJE.DropBox("BONUS_UNITS","Bonus paid");KJE.DropBox("OTHER_INCOME_UNITS","Other paid");KJE.DropBox("COBORROWER_SALARY_UNITS","Co-borrow salary paid");KJE.DropBox("COBORROWER_COMMISSION_UNITS","Co-borrow commission paid");KJE.DropBox("COBORROWER_BONUS_UNITS","Co-borrow bonus paid");KJE.DropBox("COBORROWER_OTHER_INCOME_UNITS","Co-borrow other paid");KJE.DropBox("TERM_IN_YEARS","Loan term");KJE.DollarSlider("REAL_ESTATE_TAXES","Real estate taxes",0,100000,0);KJE.DropBox("REAL_ESTATE_TAXES_UNIT","Taxes paid");KJE.Nbr("REAL_ESTATE_TAXES_RATE","Annual rate",0,n.MAX_RATE*100,3,e.FMT_PERCENT);KJE.DollarSlider("HAZARD_INSURANCE","Hazard insurance",0,100000,0);KJE.DropBox("HAZARD_INSURANCE_UNIT","Insurance paid");KJE.Nbr("HAZARD_INSURANCE_RATE","Annual rate",0,n.MAX_RATE*100,3,e.FMT_PERCENT);KJE.DollarSlider("HOUSING_EXPENSES","Association dues or fees",0,100000,0);KJE.DropBox("HOUSING_EXPENSES_UNIT","Fees paid");KJE.Nbr("HOUSING_EXPENSES_RATE","Annual rate",0,n.MAX_RATE*100,3,e.FMT_PERCENT);KJE.DollarSlider("MORTGAGE_INSURANCE","Mortgage insurance (PMI)",0,100000,0);KJE.DropBox("MORTGAGE_INSURANCE_UNIT","PMI paid");KJE.Nbr("PMI_RATE","Annual rate",0,n.MAX_RATE*100,3,e.FMT_PERCENT);KJE.DollarSlider("AUTO_LOANS","Auto loans",0,100000);KJE.DollarSlider("CREDIT_CARDS","Credit cards",0,100000);KJE.DollarSlider("INSTALLMENT_LOANS","Installment loans",0,100000);KJE.DollarSlider("STUDENT_LOANS","Student loans",0,100000);KJE.DollarSlider("ALIMONY_CHILD_SUPPORT","Alimony & child support",0,100000);KJE.DollarSlider("OTHER_LOANS","Other loans",0,100000);KJE.DollarSlider("OTHER_LIABILITY","Other",0,100000);KJE.DollarSlider("COBORROWER_AUTO_LOANS","Auto Loans",0,100000);KJE.DollarSlider("COBORROWER_CREDIT_CARDS","Credit cards",0,100000);KJE.DollarSlider("COBORROWER_INSTALLMENT_LOANS","Installment loans",0,100000);KJE.DollarSlider("COBORROWER_STUDENT_LOANS","Student loans",0,100000);KJE.DollarSlider("COBORROWER_ALIMONY_CHILD_SUPPORT","Alimony child support",0,100000);KJE.DollarSlider("COBORROWER_OTHER_LOANS","Other loans",0,100000);KJE.DollarSlider("COBORROWER_OTHER_LIABILITY","Other",0,100000);KJE.InputItem.AltHelpName="DEBT_RATIOS";KJE.NumberSlider("LOW_DEBT_PITI_RATE","Total Debt Service Ratio (TDSR)",20,60,0);KJE.NumberSlider("HIGH_DEBT_PITI_RATE","Gross Debt Service Ratio (GDSR)",20,60,0);var h=KJE.gNewGraph(KJE.gCOLUMN,"GRAPH1",true,false,KJE.colorList[1],KJE.parameters.get("MSG_GRAPH_TITLE","Qualifying Mortgage Amount for a Variety of Interest Rates"));h._showItemLabel=true;h._showItemLabelOnTop=true;h._legend.setVisible(false);KJE.addDiv("INPUTS",KJE.colorList[0]);var o=KJE.parameters.get("MSG_DROPPER2_TITLE","Monthly income:");var f=KJE.parameters.get("MSG_DROPPER2_CLOSETITLE","Total KJE1");var m=function(){return o+"|"+KJE.subText(KJE.getKJEReplaced(f,e.dollars(n.YOUR_INCOME)),"KJERightBold")};KJE.addDropper(new KJE.Dropper("INPUTS2",false,m,m),KJE.colorList[0]);var b=KJE.parameters.get("MSG_DROPPER3_TITLE","Monthly housing expenses:");var d=KJE.parameters.get("MSG_DROPPER3_CLOSETITLE","Total KJE1");var j=function(){return b+"|"+KJE.subText(KJE.getKJEReplaced(d,e.dollars(n.MONTHLY_HOUSING_EXPENSES)),"KJERightBold")};KJE.addDropper(new KJE.Dropper("INPUTS3",false,j,j),KJE.colorList[0]);var k=KJE.parameters.get("MSG_DROPPER4_TITLE","Monthly liabilities:");var a=KJE.parameters.get("MSG_DROPPER4_CLOSETITLE","Total KJE1");var i=function(){return k+"|"+KJE.subText(KJE.getKJEReplaced(a,e.dollars(n.MONTHLY_LIABILITIES)),"KJERightBold")};KJE.addDropper(new KJE.Dropper("INPUTS4",false,i,i),KJE.colorList[0])};KJE.MortgageMax.prototype.setValues=function(b){var a=KJE.inputs.items;b.INTEREST_RATE=a.INTEREST_RATE.getValue();b.TERM_IN_MONTHS=Math.round(a.TERM_IN_YEARS.getValue())*12;b.SALARY=a.SALARY.getValue();b.COMMISSION=a.COMMISSION.getValue();b.BONUS=a.BONUS.getValue();b.OTHER_INCOME=a.OTHER_INCOME.getValue();b.COBORROWER_SALARY=a.COBORROWER_SALARY.getValue();b.COBORROWER_COMMISSION=a.COBORROWER_COMMISSION.getValue();b.COBORROWER_BONUS=a.COBORROWER_BONUS.getValue();b.COBORROWER_OTHER_INCOME=a.COBORROWER_OTHER_INCOME.getValue();b.SALARY_UNITS=a.SALARY_UNITS.getValue();b.COMMISSION_UNITS=a.COMMISSION_UNITS.getValue();b.BONUS_UNITS=a.BONUS_UNITS.getValue();b.OTHER_UNITS=a.OTHER_INCOME_UNITS.getValue();b.COBORROWER_SALARY_UNITS=a.COBORROWER_SALARY_UNITS.getValue();b.COBORROWER_COMMISSION_UNITS=a.COBORROWER_COMMISSION_UNITS.getValue();b.COBORROWER_BONUS_UNITS=a.COBORROWER_BONUS_UNITS.getValue();b.COBORROWER_OTHER_INCOME_UNITS=a.COBORROWER_OTHER_INCOME_UNITS.getValue();b.REAL_ESTATE_TAXES_UNIT=a.REAL_ESTATE_TAXES_UNIT.getValue();b.HAZARD_INSURANCE_UNIT=a.HAZARD_INSURANCE_UNIT.getValue();b.HOUSING_EXPENSES_UNIT=a.HOUSING_EXPENSES_UNIT.getValue();b.MORTGAGE_INSURANCE_UNIT=a.MORTGAGE_INSURANCE_UNIT.getValue();b.bREAL_ESTATE_TAXES=(KJE.MortgageMaxCalc.ITEM_PERCENT==b.REAL_ESTATE_TAXES_UNIT);b.bHAZARD_INSURANCE=(KJE.MortgageMaxCalc.ITEM_PERCENT==b.HAZARD_INSURANCE_UNIT);b.bHOUSING_EXPENSES=(KJE.MortgageMaxCalc.ITEM_PERCENT==b.HOUSING_EXPENSES_UNIT);b.bCALC_PMI=(KJE.MortgageMaxCalc.ITEM_PERCENT==b.MORTGAGE_INSURANCE_UNIT);if(b.bREAL_ESTATE_TAXES){b.REAL_ESTATE_TAXES_RATE=a.REAL_ESTATE_TAXES_RATE.getValue()/100;a.REAL_ESTATE_TAXES_RATE.enable();a.REAL_ESTATE_TAXES.disable()}else{b.REAL_ESTATE_TAXES=a.REAL_ESTATE_TAXES.getValue();a.REAL_ESTATE_TAXES_RATE.disable();a.REAL_ESTATE_TAXES.enable()}if(b.bHAZARD_INSURANCE){b.HAZARD_INSURANCE_RATE=a.HAZARD_INSURANCE_RATE.getValue()/100;a.HAZARD_INSURANCE_RATE.enable();a.HAZARD_INSURANCE.disable()}else{b.HAZARD_INSURANCE=a.HAZARD_INSURANCE.getValue();a.HAZARD_INSURANCE.enable();a.HAZARD_INSURANCE_RATE.disable()}if(b.bHOUSING_EXPENSES){b.HOUSING_EXPENSES_RATE=a.HOUSING_EXPENSES_RATE.getValue()/100;a.HOUSING_EXPENSES_RATE.enable();a.HOUSING_EXPENSES.disable()}else{b.HOUSING_EXPENSES=a.HOUSING_EXPENSES.getValue();a.HOUSING_EXPENSES_RATE.disable();a.HOUSING_EXPENSES.enable()}if(b.bCALC_PMI){b.PMI_RATE=a.PMI_RATE.getValue()/100;a.PMI_RATE.enable();a.MORTGAGE_INSURANCE.disable()}else{b.MORTGAGE_INSURANCE=a.MORTGAGE_INSURANCE.getValue();a.MORTGAGE_INSURANCE.enable();a.PMI_RATE.disable()}b.AUTO_LOANS=a.AUTO_LOANS.getValue();b.CREDIT_CARDS=a.CREDIT_CARDS.getValue();b.INSTALLMENT_LOANS=a.INSTALLMENT_LOANS.getValue();b.STUDENT_LOANS=a.STUDENT_LOANS.getValue();b.ALIMONY_CHILD_SUPPORT=a.ALIMONY_CHILD_SUPPORT.getValue();b.OTHER_LOANS=a.OTHER_LOANS.getValue();b.OTHER_LIABILITY=a.OTHER_LIABILITY.getValue();b.COBORROWER_AUTO_LOANS=a.COBORROWER_AUTO_LOANS.getValue();b.COBORROWER_CREDIT_CARDS=a.COBORROWER_CREDIT_CARDS.getValue();b.COBORROWER_INSTALLMENT_LOANS=a.COBORROWER_INSTALLMENT_LOANS.getValue();b.COBORROWER_STUDENT_LOANS=a.COBORROWER_STUDENT_LOANS.getValue();b.COBORROWER_ALIMONY_CHILD_SUPPORT=a.COBORROWER_ALIMONY_CHILD_SUPPORT.getValue();b.COBORROWER_OTHER_LOANS=a.COBORROWER_OTHER_LOANS.getValue();b.COBORROWER_OTHER_LIABILITY=a.COBORROWER_OTHER_LIABILITY.getValue();b.HIGH_DEBT_PITI_RATE=a.HIGH_DEBT_PITI_RATE.getValue();b.LOW_DEBT_PITI_RATE=a.LOW_DEBT_PITI_RATE.getValue()};KJE.MortgageMax.prototype.refresh=function(e){var d=KJE;var c=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];KJE.setTitleTemplate(d.dollars(e.LOAN_AMOUNT),d.percent(e.INTEREST_RATE/100,3),d.dollars(e.LOAN_PITI,2));a.removeAll();a.setGraphCategories(e.cats);a.add(new KJE.gGraphDataSeries(e.DS_LOAN_AMOUNT,this.MSG_GRAPH_MAXIMUM_MORTGAGE,a.getColor(1)));a.paint();b.MORTGAGE_INSURANCE.setValue(e.MORTGAGE_INSURANCE,true);b.REAL_ESTATE_TAXES.setValue(e.REAL_ESTATE_TAXES,true);b.HAZARD_INSURANCE.setValue(e.HAZARD_INSURANCE,true);b.HOUSING_EXPENSES.setValue(e.HOUSING_EXPENSES,true);b.PMI_RATE.setValue(e.PMI_RATE*100,true);b.REAL_ESTATE_TAXES_RATE.setValue(e.REAL_ESTATE_TAXES_RATE*100,true);b.HAZARD_INSURANCE_RATE.setValue(e.HAZARD_INSURANCE_RATE*100,true);b.HOUSING_EXPENSES_RATE.setValue(e.HOUSING_EXPENSES_RATE*100,true)};KJE.InputScreenText=" <div id=KJE-D-INPUTS> <div id='KJE-C-INTEREST_RATE'><input id='KJE-INTEREST_RATE' /></div> <div id='KJE-C-TERM_IN_YEARS'>**TERM_IN_YEARS**</div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-INPUTS2><div id=KJE-P-INPUTS2>Input information:</div></div> <div id=KJE-E-INPUTS2 > <div id='KJE-C-SALARY'><input id='KJE-SALARY' /></div> <div id='KJE-C-SALARY_UNITS'>**SALARY_UNITS**</div> <div style=\"height:10px\"></div> <div id='KJE-C-COMMISSION'><input id='KJE-COMMISSION' /></div> <div id='KJE-C-COMMISSION_UNITS'>**COMMISSION_UNITS**</div> <div style=\"height:10px\"></div> <div id='KJE-C-BONUS'><input id='KJE-BONUS' /></div> <div id='KJE-C-BONUS_UNITS'>**BONUS_UNITS**</div> <div style=\"height:10px\"></div> <div id='KJE-C-OTHER_INCOME'><input id='KJE-OTHER_INCOME' /></div> <div id='KJE-C-OTHER_INCOME_UNITS'>**OTHER_INCOME_UNITS**</div> <div style=\"height:10px\"></div> <div class=\"KJEToggleSubTitle\">**COBORROWER_INCOME**</div> <div id='KJE-C-COBORROWER_SALARY'><input id='KJE-COBORROWER_SALARY' /></div> <div id='KJE-C-COBORROWER_SALARY_UNITS'>**COBORROWER_SALARY_UNITS**</div> <div style=\"height:10px\"></div> <div id='KJE-C-COBORROWER_COMMISSION'><input id='KJE-COBORROWER_COMMISSION' /></div> <div id='KJE-C-COBORROWER_COMMISSION_UNITS'>**COBORROWER_COMMISSION_UNITS**</div> <div style=\"height:10px\"></div> <div id='KJE-C-COBORROWER_BONUS'><input id='KJE-COBORROWER_BONUS' /></div> <div id='KJE-C-COBORROWER_BONUS_UNITS'>**COBORROWER_BONUS_UNITS**</div> <div style=\"height:10px\"></div> <div id='KJE-C-COBORROWER_OTHER_INCOME'><input id='KJE-COBORROWER_OTHER_INCOME' /></div> <div id='KJE-C-COBORROWER_OTHER_INCOME_UNITS'>**COBORROWER_OTHER_INCOME_UNITS**</div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-INPUTS4><div id=KJE-P-INPUTS4>Input information:</div></div> <div id=KJE-E-INPUTS4 > <div id='KJE-C-AUTO_LOANS'><input id='KJE-AUTO_LOANS' /></div> <div id='KJE-C-CREDIT_CARDS'><input id='KJE-CREDIT_CARDS' /></div> <div id='KJE-C-INSTALLMENT_LOANS'><input id='KJE-INSTALLMENT_LOANS' /></div> <div id='KJE-C-STUDENT_LOANS'><input id='KJE-STUDENT_LOANS' /></div> <div id='KJE-C-ALIMONY_CHILD_SUPPORT'><input id='KJE-ALIMONY_CHILD_SUPPORT' /></div> <div id='KJE-C-OTHER_LOANS'><input id='KJE-OTHER_LOANS' /></div> <div id='KJE-C-OTHER_LIABILITY'><input id='KJE-OTHER_LIABILITY' /></div> <div style=\"height:10px\"></div> <div class=\"KJEToggleSubTitle\">**COBORROWER_LIABILITIES**</div> <div id='KJE-C-COBORROWER_AUTO_LOANS'><input id='KJE-COBORROWER_AUTO_LOANS' /></div> <div id='KJE-C-COBORROWER_CREDIT_CARDS'><input id='KJE-COBORROWER_CREDIT_CARDS' /></div> <div id='KJE-C-COBORROWER_INSTALLMENT_LOANS'><input id='KJE-COBORROWER_INSTALLMENT_LOANS' /></div> <div id='KJE-C-COBORROWER_STUDENT_LOANS'><input id='KJE-COBORROWER_STUDENT_LOANS' /></div> <div id='KJE-C-COBORROWER_ALIMONY_CHILD_SUPPORT'><input id='KJE-COBORROWER_ALIMONY_CHILD_SUPPORT' /></div> <div id='KJE-C-COBORROWER_OTHER_LOANS'><input id='KJE-COBORROWER_OTHER_LOANS' /></div> <div id='KJE-C-COBORROWER_OTHER_LIABILITY'><input id='KJE-COBORROWER_OTHER_LIABILITY' /></div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-INPUTS3><div id=KJE-P-INPUTS3>Input information:</div></div> <div id=KJE-E-INPUTS3 > <div id='KJE-C-REAL_ESTATE_TAXES'><input id='KJE-REAL_ESTATE_TAXES' /></div> <div id='KJE-C-REAL_ESTATE_TAXES_UNIT'>**REAL_ESTATE_TAXES_UNIT**</div> <div id='KJE-C-REAL_ESTATE_TAXES_RATE'><input id='KJE-REAL_ESTATE_TAXES_RATE' /></div> <div style=\"height:10px\"></div> <div id='KJE-C-HAZARD_INSURANCE'><input id='KJE-HAZARD_INSURANCE' /></div> <div id='KJE-C-HAZARD_INSURANCE_UNIT'>**HAZARD_INSURANCE_UNIT**</div> <div id='KJE-C-HAZARD_INSURANCE_RATE'><input id='KJE-HAZARD_INSURANCE_RATE' /></div> <div style=\"height:10px\"></div> <div id='KJE-C-HOUSING_EXPENSES'><input id='KJE-HOUSING_EXPENSES' /></div> <div id='KJE-C-HOUSING_EXPENSES_UNIT'>**HOUSING_EXPENSES_UNIT**</div> <div id='KJE-C-HOUSING_EXPENSES_RATE'><input id='KJE-HOUSING_EXPENSES_RATE' /></div> <div style=\"height:10px\"></div> <div id='KJE-C-MORTGAGE_INSURANCE'><input id='KJE-MORTGAGE_INSURANCE' /></div> <div id='KJE-C-MORTGAGE_INSURANCE_UNIT'>**MORTGAGE_INSURANCE_UNIT**</div> <div id='KJE-C-PMI_RATE'><input id='KJE-PMI_RATE' /></div> <div style=\"height:10px\"></div> <div style=\"height:10px\"></div> </div> **GRAPH1** ";KJE.DefinitionText=' <div id="KJE-D-YOUR_MONTHLY_INCOME"><dt>Monthly income</dt><dd>Total monthly income from all sources. All income should be entered before taxes.</dd></div> <div id="KJE-D-MONTHLY_HOUSING_EXPENSES"><dt>Monthly housing expenses</dt><dd>Your monthly housing expenses from the housing expenses worksheet. The items entered as housing expenses make up the taxes and insurance portion of your monthly PITI payment.</dd></div> <div id="KJE-D-MONTHLY_LIABILITIES"><dt>Monthly liabilities</dt><dd>Your monthly liabilities from the liabilities worksheet. Your monthly liabilities are used to calculate your maximum PITI.</dd></div> <div id="KJE-D-LOAN_PITI"><dt>Monthly housing payment (PITI)</dt><dd>This is your total principal, interest, taxes and insurance (PITI) payment per month. This includes your principal, interest, real estate taxes, hazard insurance, association dues or fees and principal mortgage insurance (PMI). Maximum monthly payment (PITI) is calculated by taking the lower of these two calculations:<p> <ol> <li>Monthly Income X 28% = monthly PITI <li>Monthly Income X 36% - Other loan payments = monthly PITI </ol></dd></div> <div id="KJE-D-LOAN_PI"><dt>Maximum principal and interest (PI)</dt><dd>This is your maximum monthly principal and interest payment. It is calculated by subtracting your monthly taxes and insurance from your monthly PITI payment. This calculator uses your maximum PI payment to determine the mortgage amount that you could qualify for.</dd></div> <div id=\'KJE-D-INTEREST_RATE\' ><dt>Start interest rates at</dt><dd>The current interest rate you could receive on your mortgage. This is used as the starting point for displaying a range of interest rates and the resulting mortgage amount.</dd></div> <div id=\'KJE-D-TERM_IN_YEARS\' ><dt>Term in years</dt><dd>The number of years over which you will repay this loan. The most common mortgage terms are 15 years and 30 years.</dd></div> ';KJE.ReportText=' <!--HEADING "Maximum Mortgage" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>At INTEREST_RATE your maximum mortgage is LOAN_AMOUNT for your income of YOUR_ANNUAL_INCOME.</h2> An annual income of YOUR_ANNUAL_INCOME provides for a maximum Principal, Interest, Taxes and Insurance (PITI) payment of LOAN_PITI. After taxes and insurance your principal and interest payment (PI) of LOAN_PI would pay for a LOAN_AMOUNT mortgage, with an interest rate of INTEREST_RATE and a term of TERM_IN_YEARS years. **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Maximum Mortgage Results</caption> <tfoot class=\'KJEReportTFooter\'> <tr class=KJEFooterRow><th class="KJELabel KJECellBorder" scope=\'row\'>Maximum mortgage </th><td class="KJECellStrong"> LOAN_AMOUNT</td></tr> </tfoot> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell50" scope=\'row\'>Annual income </th><td class="KJELabel KJECell50"> YOUR_ANNUAL_INCOME </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Term </th><td class="KJECell"> TERM_IN_YEARS years</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Interest rate </th><td class="KJECell"> INTEREST_RATE</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Monthly housing expenses </th><td class="KJECell"> MONTHLY_HOUSING_EXPENSES </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Monthly liabilities </th><td class="KJECell"> MONTHLY_LIABILITIES </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Maximum housing payment (PITI) </th><td class="KJECell"> LOAN_PITI </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Maximum principal & interest payment (PI) </th><td class="KJECell"> LOAN_PI </td></tr> </tbody> </table> </div> <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Your Income</caption> <thead class=\'KJEReportTHeader\'> <tr class=KJEHeaderRow><th class="KJEHeading KJECell50">&nbsp; </th><th class="KJEHeading KJECell25" scope=\'col\'>Borrower</th><th class="KJEHeading KJECell25" scope=\'col\'>Co-borrower</th></tr> </thead> <tbody class=\'KJEReportTBody\'> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Salary </th><td class="KJECell KJECellBorder">SALARY SALARY_UNITS </td><td class="KJECell">COBORROWER_SALARY COBORROWER_SALARY_UNITS </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Commission </th><td class="KJECell KJECellBorder">COMMISSION COMMISSION_UNITS</td><td class="KJECell">COBORROWER_COMMISSION COBORROWER_COMMISSION_UNITS</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Bonus </th><td class="KJECell KJECellBorder">BONUS BONUS_UNITS</td><td class="KJECell">COBORROWER_BONUS COBORROWER_BONUS_UNITS</td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Other </th><td class="KJECell KJECellBorder">OTHER_INCOME OTHER_UNITS</td><td class="KJECell">COBORROWER_OTHER_INCOME COBORROWER_OTHER_UNITS</td></tr> </tbody> </table> </div> <p> <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Housing Expenses</caption> <tbody class=\'KJEReportTBody\'> <tr class=KJEOddRow><th class="KJELabel KJECellBorder KJECell50" scope=\'row\'>Real estate taxes </th><td class="KJECell KJECell50">REAL_ESTATE_TAXES REAL_ESTATE_TAXES_UNIT </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Hazard insurance </th><td class="KJECell">HAZARD_INSURANCE HAZARD_INSURANCE_UNIT </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Housing expenses </th><td class="KJECell">HOUSING_EXPENSES HOUSING_EXPENSES_UNIT</td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Mortgage insurance </th><td class="KJECell">MORTGAGE_INSURANCE MORTGAGE_INSURANCE_UNIT</td></tr> </tbody> </table> </div> <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Current Monthly Liabilities</caption> <thead class=\'KJEReportTHeader\'> <tr class=KJEHeaderRow><th class="KJEHeading KJECell50">&nbsp; </th><th class="KJEHeading KJECell25" scope=\'col\'>Borrower</th><th class="KJEHeading KJECell25" scope=\'col\'>Co-borrower</th></tr> </thead> <tbody class=\'KJEReportTBody\'> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Auto loans </th><td class="KJECell KJECellBorder"> AUTO_LOANS </td><td class="KJECell"> COBORROWER_AUTO_LOANS </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Credit cards </th><td class="KJECell KJECellBorder"> CREDIT_CARDS </td><td class="KJECell"> COBORROWER_CREDIT_CARDS </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Installment loans </th><td class="KJECell KJECellBorder"> INSTALLMENT_LOANS </td><td class="KJECell"> COBORROWER_INSTALLMENT_LOANS </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Student loans </th><td class="KJECell KJECellBorder"> STUDENT_LOANS </td><td class="KJECell"> COBORROWER_STUDENT_LOANS </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Alimony & child support </th><td class="KJECell KJECellBorder"> ALIMONY_CHILD_SUPPORT </td><td class="KJECell"> COBORROWER_ALIMONY_CHILD_SUPPORT </td></tr> <tr class=KJEOddRow><th class="KJELabel KJECellBorder" scope=\'row\'>Other loans </th><td class="KJECell KJECellBorder"> OTHER_LOANS </td><td class="KJECell"> COBORROWER_OTHER_LOANS </td></tr> <tr class=KJEEvenRow><th class="KJELabel KJECellBorder" scope=\'row\'>Other </th><td class="KJECell KJECellBorder"> OTHER_LIABILITY </td><td class="KJECell"> COBORROWER_OTHER_LIABILITY </td></tr> </tbody> </table> </div> <p> <h2 class=\'KJEReportHeader KJEFontHeading\'>Qualify Calculation</h2>Your LOAN_PITI maximum monthly payment (PITI) is calculated by taking the lower of these two calculations:<br><br> <table width=80%> <tr><td>1. Monthly Income X LOW_DEBT_PITI_RATE = monthly PITI </td></tr> <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Which is: YOUR_INCOME X LOW_DEBT_PITI_RATE = QLFY_PITI_ONLY<br><br></td></tr> <tr><td>2. Monthly Income X HIGH_DEBT_PITI_RATE - Monthly Liabilities = monthly PITI </td></tr> <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Which is: YOUR_INCOME X HIGH_DEBT_PITI_RATE - MONTHLY_LIABILITIES = QLFY_PITI_DEBT<br><br></td></tr> </table> <br> <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Qualifying Mortgage Amounts for a Range of Interest Rates</h2> **REPEATING GROUP** ';